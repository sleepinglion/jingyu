<!DOCTYPE html>
<html lang="<%=I18n.locale %>" data-bs-theme="auto">
<head>
<meta charset="utf-8">
	<%=display_meta_tags site: t(:application_name),
											 title: @title,
											 description: @meta_description,
											 keywords: @meta_keywords,
											 separator: t(:title_separator),
											 url: t(:site_full_url),
											 image: @meta_image,
											 viewport: 'width=device-width, initial-scale=1, shrink-to-fit=no',
											 reverse: true
	%>
	<%= display_meta_tags og: {
		title: @title,
		description: @meta_description,
		url: t(:site_full_url),
		image: @meta_image
	} %>
<meta name="author" content="Sleeping1-Lion">
<link rel="alternate" type="application/rss+xml" title="Jingyu RSS Feed" href="<%= t(:site_full_url) %>/feed?format=rss">
<%= stylesheet_link_tag "front", :media => "all", "data-turbolinks-track" => true %>
	<link rel="icon" href="/favicon.ico">
<%= csrf_meta_tags %>
<%= csp_meta_tag -%>
<%= yield :json_ld %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
</head>
<body>
<%= render :partial => 'layouts/header' %>
<div id="mom">
	<div id="main" class="container">
		<% unless current_page?(root_path) %>
			<%= render 'layouts/page_header' %>
		<% end  %>
		<div class="row">
			<main <% if current_page?(root_path) %>id="main_main"<% end %> class="sub-main<% if session[:no_aside] %> col-12<% else %> col-12 col-xl-9<% end %>">
				<%= render 'layouts/ad' %>
				<%= render :partial => 'layouts/notice', :locals => { :notice => notice, :alert => alert } %>
				<%=yield %>
			</main>
			<%= render 'layouts/aside' %>
		</div>
	</div>
</div>
<%= render :partial => 'layouts/footer' %>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog"></div>
<%= javascript_importmap_tags %>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TZXFX7C4PT"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'G-TZXFX7C4PT');
</script>

</body>
</html>
