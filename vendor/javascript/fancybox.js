// fancybox@3.0.1 downloaded from https://ga.jspm.io/npm:fancybox@3.0.1/dist/js/jquery.fancybox.cjs.js

var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};t=function(t){var i=t("html"),n=t(window),o=t(document),a=t.fancybox=function(){a.open.apply(this||e,arguments)},r=navigator.userAgent.match(/msie/i),l=null,s=void 0!==document.createTouch,isQuery=function(e){return e&&e.hasOwnProperty&&e instanceof t},isString=function(e){return e&&"string"===t.type(e)},isPercentage=function(e){return isString(e)&&e.indexOf("%")>0},isScrollable=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},getScalar=function(e,t){var i=parseInt(e,10)||0;t&&isPercentage(e)&&(i=a.getViewport()[t]/100*i);return Math.ceil(i)},getValue=function(e,t){return getScalar(e,t)+"px"};t.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!s,fitToView:true,aspectRatio:false,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3e3,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(r?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:t.noop,beforeLoad:t.noop,afterLoad:t.noop,beforeShow:t.noop,afterShow:t.noop,beforeChange:t.noop,beforeClose:t.noop,afterClose:t.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,i){if(e){t.isPlainObject(i)||(i={});if(false!==a.close(true)){t.isArray(e)||(e=isQuery(e)?t(e).get():[e]);t.each(e,(function(n,o){var r={},l,s,c,f,d,p,u;if("object"===t.type(o)){o.nodeType&&(o=t(o));if(isQuery(o)){r={href:o.data("fancybox-href")||o.attr("href"),title:t("<div/>").text(o.data("fancybox-title")||o.attr("title")||"").html(),isDom:true,element:o};t.metadata&&t.extend(true,r,o.metadata())}else r=o}l=i.href||r.href||(isString(o)?o:null);s=void 0!==i.title?i.title:r.title||"";c=i.content||r.content;f=c?"html":i.type||r.type;if(!f&&r.isDom){f=o.data("fancybox-type");if(!f){d=o.prop("class").match(/fancybox\.(\w+)/);f=d?d[1]:null}}if(isString(l)){if(!f)if(a.isImage(l))f="image";else if(a.isSWF(l))f="swf";else if("#"===l.charAt(0))f="inline";else if(isString(o)){f="html";c=o}if("ajax"===f){p=l.split(/\s+/,2);l=p.shift();u=p.shift()}}if(!c)if("inline"===f)l?c=t(isString(l)?l.replace(/.*(?=#[^\s]+$)/,""):l):r.isDom&&(c=o);else if("html"===f)c=l;else if(!f&&!l&&r.isDom){f="inline";c=o}t.extend(r,{href:l,type:f,content:c,title:s,selector:u});e[n]=r}));a.opts=t.extend(true,{},a.defaults,i);void 0!==i.keys&&(a.opts.keys=!!i.keys&&t.extend({},a.defaults.keys,i.keys));a.group=e;return a._start(a.opts.index)}}},cancel:function(){var e=a.coming;if(!e||false!==a.trigger("onCancel")){a.hideLoading();if(e){a.ajaxLoad&&a.ajaxLoad.abort();a.ajaxLoad=null;a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null);e.wrap&&e.wrap.stop(true,true).trigger("onReset").remove();a.coming=null;a.current||a._afterZoomOut(e)}}},close:function(e){a.cancel();if(false!==a.trigger("beforeClose")){a.unbindEvents();if(a.isActive)if(a.isOpen&&true!==e){a.isOpen=a.isOpened=false;a.isClosing=true;t(".fancybox-item, .fancybox-nav").remove();a.wrap.stop(true,true).removeClass("fancybox-opened");a.transitions[a.current.closeMethod]()}else{t(".fancybox-wrap").stop(true).trigger("onReset").remove();a._afterZoomOut()}}},play:function(e){var clear=function(){clearTimeout(a.player.timer)},set=function(){clear();a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},stop=function(){clear();o.unbind(".player");a.player.isActive=false;a.trigger("onPlayEnd")},start=function(){if(a.current&&(a.current.loop||a.current.index<a.group.length-1)){a.player.isActive=true;o.bind({"onCancel.player beforeClose.player":stop,"onUpdate.player":set,"beforeLoad.player":clear});set();a.trigger("onPlayStart")}};true===e||!a.player.isActive&&false!==e?start():stop()},next:function(e){var t=a.current;if(t){isString(e)||(e=t.direction.next);a.jumpto(t.index+1,e,"next")}},prev:function(e){var t=a.current;if(t){isString(e)||(e=t.direction.prev);a.jumpto(t.index-1,e,"prev")}},jumpto:function(e,t,i){var n=a.current;if(n){e=getScalar(e);a.direction=t||n.direction[e>=n.index?"next":"prev"];a.router=i||"jumpto";if(n.loop){e<0&&(e=n.group.length+e%n.group.length);e%=n.group.length}if(void 0!==n.group[e]){a.cancel();a._start(e)}}},reposition:function(e,i){var n=a.current,o=n?n.wrap:null,r;if(o){r=a._getPosition(i);if(e&&"scroll"===e.type){delete r.position;o.stop(true,true).animate(r,200)}else{o.css(r);n.pos=t.extend({},n.dim,r)}}},update:function(e){var t=e&&e.originalEvent&&e.originalEvent.type,i=!t||"orientationchange"===t;if(i){clearTimeout(l);l=null}a.isOpen&&!l&&(l=setTimeout((function(){var n=a.current;if(n&&!a.isClosing){a.wrap.removeClass("fancybox-tmp");(i||"load"===t||"resize"===t&&n.autoResize)&&a._setDimension();"scroll"===t&&n.canShrink||a.reposition(e);a.trigger("onUpdate");l=null}}),i&&!s?0:300))},toggle:function(e){if(a.isOpen){a.current.fitToView="boolean"===t.type(e)?e:!a.current.fitToView;if(s){a.wrap.removeAttr("style").addClass("fancybox-tmp");a.trigger("onUpdate")}a.update()}},hideLoading:function(){o.unbind(".loading");t("#fancybox-loading").remove()},showLoading:function(){var e,i;a.hideLoading();e=t(a.opts.tpl.loading).click(a.cancel).appendTo("body");o.bind("keydown.loading",(function(e){if(27===(e.which||e.keyCode)){e.preventDefault();a.cancel()}}));if(!a.defaults.fixed){i=a.getViewport();e.css({position:"absolute",top:.5*i.h+i.y,left:.5*i.w+i.x})}a.trigger("onLoading")},getViewport:function(){var e=a.current&&a.current.locked||false,t={x:n.scrollLeft(),y:n.scrollTop()};if(e&&e.length){t.w=e[0].clientWidth;t.h=e[0].clientHeight}else{t.w=s&&window.innerWidth?window.innerWidth:n.width();t.h=s&&window.innerHeight?window.innerHeight:n.height()}return t},unbindEvents:function(){a.wrap&&isQuery(a.wrap)&&a.wrap.unbind(".fb");o.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var e=a.current,i;if(e){n.bind("orientationchange.fb"+(s?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update);i=e.keys;i&&o.bind("keydown.fb",(function(n){var o=n.which||n.keyCode,r=n.target||n.srcElement;if(27===o&&a.coming)return false;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||r&&(r.type||t(r).is("[contenteditable]"))||t.each(i,(function(i,r){if(e.group.length>1&&void 0!==r[o]){a[i](r[o]);n.preventDefault();return false}if(t.inArray(o,r)>-1){a[i]();n.preventDefault();return false}}))}));t.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",(function(i,n,o,r){var l=i.target||null,s=t(l),c=false;while(s.length){if(c||s.is(".fancybox-skin")||s.is(".fancybox-wrap"))break;c=isScrollable(s[0]);s=t(s).parent()}if(0!==n&&!c&&a.group.length>1&&!e.canShrink){r>0||o>0?a.prev(r>0?"down":"left"):(r<0||o<0)&&a.next(r<0?"up":"right");i.preventDefault()}}))}},trigger:function(e,i){var n,r=i||a.coming||a.current;if(r){t.isFunction(r[e])&&(n=r[e].apply(r,Array.prototype.slice.call(arguments,1)));if(false===n)return false;r.helpers&&t.each(r.helpers,(function(i,n){n&&a.helpers[i]&&t.isFunction(a.helpers[i][e])&&a.helpers[i][e](t.extend(true,{},a.helpers[i].defaults,n),r)}))}o.trigger(e)},isImage:function(e){return isString(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return isString(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var i={},n,o,r,l,c;e=getScalar(e);n=a.group[e]||null;if(!n)return false;i=t.extend(true,{},a.opts,n);l=i.margin;c=i.padding;"number"===t.type(l)&&(i.margin=[l,l,l,l]);"number"===t.type(c)&&(i.padding=[c,c,c,c]);i.modal&&t.extend(true,i,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}});i.autoSize&&(i.autoWidth=i.autoHeight=true);"auto"===i.width&&(i.autoWidth=true);"auto"===i.height&&(i.autoHeight=true);i.group=a.group;i.index=e;a.coming=i;if(false!==a.trigger("beforeLoad")){r=i.type;o=i.href;if(!r){a.coming=null;if(a.current&&a.router&&"jumpto"!==a.router){a.current.index=e;return a[a.router](a.direction)}return false}a.isActive=true;if("image"===r||"swf"===r){i.autoHeight=i.autoWidth=false;i.scrolling="visible"}"image"===r&&(i.aspectRatio=true);"iframe"===r&&s&&(i.scrolling="scroll");i.wrap=t(i.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+r+" fancybox-tmp "+i.wrapCSS).appendTo(i.parent||"body");t.extend(i,{skin:t(".fancybox-skin",i.wrap),outer:t(".fancybox-outer",i.wrap),inner:t(".fancybox-inner",i.wrap)});t.each(["Top","Right","Bottom","Left"],(function(e,t){i.skin.css("padding"+t,getValue(i.padding[e]))}));a.trigger("onReady");if("inline"===r||"html"===r){if(!i.content||!i.content.length)return a._error("content")}else if(!o)return a._error("href");"image"===r?a._loadImage():"ajax"===r?a._loadAjax():"iframe"===r?a._loadIframe():a._afterLoad()}else a.coming=null},_error:function(e){t.extend(a.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:a.coming.tpl.error});a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){(this||e).onload=(this||e).onerror=null;a.coming.width=(this||e).width/a.opts.pixelRatio;a.coming.height=(this||e).height/a.opts.pixelRatio;a._afterLoad()};t.onerror=function(){(this||e).onload=(this||e).onerror=null;a._error("image")};t.src=a.coming.href;true!==t.complete&&a.showLoading()},_loadAjax:function(){var e=a.coming;a.showLoading();a.ajaxLoad=t.ajax(t.extend({},e.ajax,{url:e.href,error:function(e,t){a.coming&&"abort"!==t?a._error("ajax",e):a.hideLoading()},success:function(t,i){if("success"===i){e.content=t;a._afterLoad()}}}))},_loadIframe:function(){var i=a.coming,n=t(i.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":i.iframe.scrolling).attr("src",i.href);t(i.wrap).bind("onReset",(function(){try{t(this||e).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}));if(i.iframe.preload){a.showLoading();n.one("load",(function(){t(this||e).data("ready",1);s||t(this||e).bind("load.fb",a.update);t(this||e).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();a._afterLoad()}))}i.content=n.appendTo(i.inner);i.iframe.preload||a._afterLoad()},_preloadImages:function(){var e=a.group,t=a.current,i=e.length,n=t.preload?Math.min(t.preload,i-1):0,o,r;for(r=1;r<=n;r+=1){o=e[(t.index+r)%i];"image"===o.type&&o.href&&((new Image).src=o.href)}},_afterLoad:function(){var i=a.coming,n=a.current,o="fancybox-placeholder",r,l,s,c,f,d;a.hideLoading();if(i&&false!==a.isActive)if(false!==a.trigger("afterLoad",i,n)){if(n){a.trigger("beforeChange",n);n.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}a.unbindEvents();r=i;l=i.content;s=i.type;c=i.scrolling;t.extend(a,{wrap:r.wrap,skin:r.skin,outer:r.outer,inner:r.inner,current:r,previous:n});f=r.href;switch(s){case"inline":case"ajax":case"html":if(r.selector)l=t("<div>").html(l).find(r.selector);else if(isQuery(l)){l.data(o)||l.data(o,t('<div class="'+o+'"></div>').insertAfter(l).hide());l=l.show().detach();r.wrap.bind("onReset",(function(){t(this||e).find(l).length&&l.hide().replaceAll(l.data(o)).data(o,false)}))}break;case"image":l=r.tpl.image.replace(/\{href\}/g,f);break;case"swf":l='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+f+'"></param>';d="";t.each(r.swf,(function(e,t){l+='<param name="'+e+'" value="'+t+'"></param>';d+=" "+e+'="'+t+'"'}));l+='<embed src="'+f+'" type="application/x-shockwave-flash" width="100%" height="100%"'+d+"></embed></object>";break}isQuery(l)&&l.parent().is(r.inner)||r.inner.append(l);a.trigger("beforeShow");r.inner.css("overflow","yes"===c?"scroll":"no"===c?"hidden":c);a._setDimension();a.reposition();a.isOpen=false;a.coming=null;a.bindEvents();a.isOpened?n.prevMethod&&a.transitions[n.prevMethod]():t(".fancybox-wrap").not(r.wrap).stop(true).trigger("onReset").remove();a.transitions[a.isOpened?r.nextMethod:r.openMethod]();a._preloadImages()}else{i.wrap.stop(true).trigger("onReset").remove();a.coming=null}},_setDimension:function(){var e=a.getViewport(),i=0,n=false,o=false,r=a.wrap,l=a.skin,s=a.inner,c=a.current,f=c.width,d=c.height,p=c.minWidth,u=c.minHeight,h=c.maxWidth,g=c.maxHeight,m=c.scrolling,y=c.scrollOutside?c.scrollbarWidth:0,x=c.margin,v=getScalar(x[1]+x[3]),w=getScalar(x[0]+x[2]),b,k,C,O,W,T,_,S,E,L,H,P,R,j,M;r.add(l).add(s).width("auto").height("auto").removeClass("fancybox-tmp");b=getScalar(l.outerWidth(true)-l.width());k=getScalar(l.outerHeight(true)-l.height());C=v+b;O=w+k;W=isPercentage(f)?(e.w-C)*getScalar(f)/100:f;T=isPercentage(d)?(e.h-O)*getScalar(d)/100:d;if("iframe"===c.type){j=c.content;if(c.autoHeight&&1===j.data("ready"))try{if(j[0].contentWindow.document.location){s.width(W).height(9999);M=j.contents().find("body");y&&M.css("overflow-x","hidden");T=M.outerHeight(true)}}catch(e){}}else if(c.autoWidth||c.autoHeight){s.addClass("fancybox-tmp");c.autoWidth||s.width(W);c.autoHeight||s.height(T);c.autoWidth&&(W=s.width());c.autoHeight&&(T=s.height());s.removeClass("fancybox-tmp")}f=getScalar(W);d=getScalar(T);E=W/T;p=getScalar(isPercentage(p)?getScalar(p,"w")-C:p);h=getScalar(isPercentage(h)?getScalar(h,"w")-C:h);u=getScalar(isPercentage(u)?getScalar(u,"h")-O:u);g=getScalar(isPercentage(g)?getScalar(g,"h")-O:g);_=h;S=g;if(c.fitToView){h=Math.min(e.w-C,h);g=Math.min(e.h-O,g)}P=e.w-v;R=e.h-w;if(c.aspectRatio){if(f>h){f=h;d=getScalar(f/E)}if(d>g){d=g;f=getScalar(d*E)}if(f<p){f=p;d=getScalar(f/E)}if(d<u){d=u;f=getScalar(d*E)}}else{f=Math.max(p,Math.min(f,h));if(c.autoHeight&&"iframe"!==c.type){s.width(f);d=s.height()}d=Math.max(u,Math.min(d,g))}if(c.fitToView){s.width(f).height(d);r.width(f+b);L=r.width();H=r.height();if(c.aspectRatio)while((L>P||H>R)&&f>p&&d>u){if(i++>19)break;d=Math.max(u,Math.min(g,d-10));f=getScalar(d*E);if(f<p){f=p;d=getScalar(f/E)}if(f>h){f=h;d=getScalar(f/E)}s.width(f).height(d);r.width(f+b);L=r.width();H=r.height()}else{f=Math.max(p,Math.min(f,f-(L-P)));d=Math.max(u,Math.min(d,d-(H-R)))}}y&&"auto"===m&&d<T&&f+b+y<P&&(f+=y);s.width(f).height(d);r.width(f+b);L=r.width();H=r.height();n=(L>P||H>R)&&f>p&&d>u;o=c.aspectRatio?f<_&&d<S&&f<W&&d<T:(f<_||d<S)&&(f<W||d<T);t.extend(c,{dim:{width:getValue(L),height:getValue(H)},origWidth:W,origHeight:T,canShrink:n,canExpand:o,wPadding:b,hPadding:k,wrapSpace:H-l.outerHeight(true),skinSpace:l.height()-d});!j&&c.autoHeight&&d>u&&d<g&&!o&&s.height("auto")},_getPosition:function(e){var t=a.current,i=a.getViewport(),n=t.margin,o=a.wrap.width()+n[1]+n[3],r=a.wrap.height()+n[0]+n[2],l={position:"absolute",top:n[0],left:n[3]};if(t.autoCenter&&t.fixed&&!e&&r<=i.h&&o<=i.w)l.position="fixed";else if(!t.locked){l.top+=i.y;l.left+=i.x}l.top=getValue(Math.max(l.top,l.top+(i.h-r)*t.topRatio));l.left=getValue(Math.max(l.left,l.left+(i.w-o)*t.leftRatio));return l},_afterZoomIn:function(){var e=a.current;if(e){a.isOpen=a.isOpened=true;a.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0);a.update();(e.closeClick||e.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",(function(i){if(!t(i.target).is("a")&&!t(i.target).parent().is("a")){i.preventDefault();a[e.closeClick?"close":"next"]()}}));e.closeBtn&&t(e.tpl.closeBtn).appendTo(a.skin).bind("click.fb",(function(e){e.preventDefault();a.close()}));if(e.arrows&&a.group.length>1){(e.loop||e.index>0)&&t(e.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev);(e.loop||e.index<a.group.length-1)&&t(e.tpl.next).appendTo(a.outer).bind("click.fb",a.next)}a.trigger("afterShow");if(e.loop||e.index!==e.group.length-1){if(a.opts.autoPlay&&!a.player.isActive){a.opts.autoPlay=false;a.play(true)}}else a.play(false)}},_afterZoomOut:function(e){e=e||a.current;t(".fancybox-wrap").trigger("onReset").remove();t.extend(a,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});a.trigger("afterClose",e)}});a.transitions={getOrigPosition:function(){var e=a.current,t=e.element,i=e.orig,n={},o=50,r=50,l=e.hPadding,s=e.wPadding,c=a.getViewport();if(!i&&e.isDom&&t.is(":visible")){i=t.find("img:first");i.length||(i=t)}if(isQuery(i)){n=i.offset();if(i.is("img")){o=i.outerWidth();r=i.outerHeight()}}else{n.top=c.y+(c.h-r)*e.topRatio;n.left=c.x+(c.w-o)*e.leftRatio}if("fixed"===a.wrap.css("position")||e.locked){n.top-=c.y;n.left-=c.x}n={top:getValue(n.top-l*e.topRatio),left:getValue(n.left-s*e.leftRatio),width:getValue(o+s),height:getValue(r+l)};return n},step:function(e,t){var i,n,o,r=t.prop,l=a.current,s=l.wrapSpace,c=l.skinSpace;if("width"===r||"height"===r){i=t.end===t.start?1:(e-t.start)/(t.end-t.start);a.isClosing&&(i=1-i);n="width"===r?l.wPadding:l.hPadding;o=e-n;a.skin[r](getScalar("width"===r?o:o-s*i));a.inner[r](getScalar("width"===r?o:o-s*i-c*i))}},zoomIn:function(){var i=a.current,n=i.pos,o=i.openEffect,r="elastic"===o,l=t.extend({opacity:1},n);delete l.position;if(r){n=this.getOrigPosition();i.openOpacity&&(n.opacity=.1)}else"fade"===o&&(n.opacity=.1);a.wrap.css(n).animate(l,{duration:"none"===o?0:i.openSpeed,easing:i.openEasing,step:r?(this||e).step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,i=t.closeEffect,n="elastic"===i,o={opacity:.1};if(n){o=this.getOrigPosition();t.closeOpacity&&(o.opacity=.1)}a.wrap.animate(o,{duration:"none"===i?0:t.closeSpeed,easing:t.closeEasing,step:n?(this||e).step:null,complete:a._afterZoomOut})},changeIn:function(){var e=a.current,t=e.nextEffect,i=e.pos,n={opacity:1},o=a.direction,r=200,l;i.opacity=.1;if("elastic"===t){l="down"===o||"up"===o?"top":"left";if("down"===o||"right"===o){i[l]=getValue(getScalar(i[l])-r);n[l]="+="+r+"px"}else{i[l]=getValue(getScalar(i[l])+r);n[l]="-="+r+"px"}}"none"===t?a._afterZoomIn():a.wrap.css(i).animate(n,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var i=a.previous,n=i.prevEffect,o={opacity:.1},r=a.direction,l=200;"elastic"===n&&(o["down"===r||"up"===r?"top":"left"]=("up"===r||"left"===r?"-":"+")+"="+l+"px");i.wrap.animate(o,{duration:"none"===n?0:i.prevSpeed,easing:i.prevEasing,complete:function(){t(this||e).trigger("onReset").remove()}})}};a.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!s,fixed:true},overlay:null,fixed:false,el:t("html"),create:function(i){var n;i=t.extend({},(this||e).defaults,i);(this||e).overlay&&this.close();n=a.coming?a.coming.parent:i.parent;(this||e).overlay=t('<div class="fancybox-overlay"></div>').appendTo(n&&n.length?n:"body");(this||e).fixed=false;if(i.fixed&&a.defaults.fixed){(this||e).overlay.addClass("fancybox-overlay-fixed");(this||e).fixed=true}},open:function(i){var o=this||e;i=t.extend({},(this||e).defaults,i);(this||e).overlay?(this||e).overlay.unbind(".overlay").width("auto").height("auto"):this.create(i);if(!(this||e).fixed){n.bind("resize.overlay",t.proxy((this||e).update,this||e));this.update()}i.closeClick&&(this||e).overlay.bind("click.overlay",(function(e){if(t(e.target).hasClass("fancybox-overlay")){a.isActive?a.close():o.close();return false}}));(this||e).overlay.css(i.css).show()},close:function(){n.unbind("resize.overlay");if((this||e).el.hasClass("fancybox-lock")){t(".fancybox-margin").removeClass("fancybox-margin");(this||e).el.removeClass("fancybox-lock");n.scrollTop((this||e).scrollV).scrollLeft((this||e).scrollH)}t(".fancybox-overlay").remove().hide();t.extend(this||e,{overlay:null,fixed:false})},update:function(){var t="100%",i;(this||e).overlay.width(t).height("100%");if(r){i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);o.width()>i&&(t=o.width())}else o.width()>n.width()&&(t=o.width());(this||e).overlay.width(t).height(o.height())},onReady:function(i,n){var o=(this||e).overlay;t(".fancybox-overlay").stop(true,true);o||this.create(i);if(i.locked&&(this||e).fixed&&n.fixed){n.locked=(this||e).overlay.append(n.wrap);n.fixed=false}true===i.showEarly&&(this||e).beforeShow.apply(this||e,arguments)},beforeShow:function(i,o){if(o.locked&&!(this||e).el.hasClass("fancybox-lock")){false!==(this||e).fixPosition&&t("*").filter((function(){return"fixed"===t(this||e).css("position")&&!t(this||e).hasClass("fancybox-overlay")&&!t(this||e).hasClass("fancybox-wrap")})).addClass("fancybox-margin");(this||e).el.addClass("fancybox-margin");(this||e).scrollV=n.scrollTop();(this||e).scrollH=n.scrollLeft();(this||e).el.addClass("fancybox-lock");n.scrollTop((this||e).scrollV).scrollLeft((this||e).scrollH)}this.open(i)},onUpdate:function(){(this||e).fixed||this.update()},afterClose:function(i){(this||e).overlay&&!a.coming&&(this||e).overlay.fadeOut(i.speedOut,t.proxy((this||e).close,this||e))}};a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var i=a.current,n=i.title,o=e.type,l,s;t.isFunction(n)&&(n=n.call(i.element,i));if(isString(n)&&""!==t.trim(n)){l=t('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+n+"</div>");switch(o){case"inside":s=a.skin;break;case"outside":s=a.wrap;break;case"over":s=a.inner;break;default:s=a.skin;l.appendTo("body");r&&l.width(l.width());l.wrapInner('<span class="child"></span>');a.current.margin[2]+=Math.abs(getScalar(l.css("margin-bottom")));break}l["top"===e.position?"prependTo":"appendTo"](s)}}};t.fn.fancybox=function(i){var n,r=t(this||e),l=(this||e).selector||"",run=function(o){var s=t(this||e).blur(),c=n,f,d;if(!(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey)&&!s.is(".fancybox-wrap")){f=i.groupAttr||"data-fancybox-group";d=s.attr(f);if(!d){f="rel";d=s.get(0)[f]}if(d&&""!==d&&"nofollow"!==d){s=l.length?t(l):r;s=s.filter("["+f+'="'+d+'"]');c=s.index(this||e)}i.index=c;false!==a.open(s,i)&&o.preventDefault()}};i=i||{};n=i.index||0;l&&false!==i.live?o.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",run):r.unbind("click.fb-start").bind("click.fb-start",run);this.filter("[data-fancybox-start=1]").trigger("click");return this||e};o.ready((function(){var e,n;void 0===t.scrollbarWidth&&(t.scrollbarWidth=function(){var e=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),i=e.children(),n=i.innerWidth()-i.height(99).innerWidth();e.remove();return n});void 0===t.support.fixedPosition&&(t.support.fixedPosition=function(){var e=t('<div style="position:fixed;top:20px;"></div>').appendTo("body"),i=20===e[0].offsetTop||15===e[0].offsetTop;e.remove();return i}());t.extend(a.defaults,{scrollbarWidth:t.scrollbarWidth(),fixed:t.support.fixedPosition,parent:t("body")});e=t(window).width();i.addClass("fancybox-lock-test");n=t(window).width();i.removeClass("fancybox-lock-test");t("<style type='text/css'>.fancybox-margin{margin-right:"+(n-e)+"px;}</style>").appendTo("head")}))};var i=t;export default i;

